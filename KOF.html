<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUXAR V5 - ROG EDITION</title>
    <style>
        body { margin: 0; background: #000; font-family: 'Orbitron', sans-serif; overflow: hidden; color: white; }
        canvas { position: fixed; top: 0; left: 0; z-index: 1; }
        
        /* ROG Monitor Header */
        .rog-monitor {
            position: relative; z-index: 10; display: flex; justify-content: space-around;
            background: rgba(255, 0, 0, 0.2); border-bottom: 2px solid #ff0000;
            padding: 10px; font-size: 10px; text-transform: uppercase; letter-spacing: 1px;
            backdrop-filter: blur(8px); box-shadow: 0 5px 15px rgba(255, 0, 0, 0.5);
        }
        .stat-item span { color: #ff0000; font-weight: bold; }

        .panel {
            position: relative; z-index: 10; width: 340px; margin: 10px auto;
            background: rgba(10, 10, 10, 0.98); border: 1px solid #ff0000;
            border-radius: 15px; padding: 15px; box-shadow: 0 0 40px rgba(255, 0, 0, 0.6);
            backdrop-filter: blur(20px); text-align: center;
        }

        h1 { color: #ff0000; text-shadow: 0 0 15px #ff0000; font-size: 20px; margin: 0; }
        .wm { font-size: 9px; color: #fff; opacity: 0.7; margin-bottom: 15px; }

        /* Sliders & Groups */
        .control-group { background: rgba(255, 255, 255, 0.08); padding: 8px; border-radius: 8px; margin-bottom: 8px; border: 1px solid #333; }
        .label-group { display: flex; justify-content: space-between; font-size: 11px; color: #ff0000; margin-bottom: 4px; }
        input[type=range] { width: 100%; accent-color: #ff0000; cursor: pointer; }

        .btn {
            width: 100%; padding: 10px; margin: 4px 0; background: transparent;
            color: #fff; border: 1px solid #ff0000; border-radius: 5px;
            font-weight: bold; cursor: pointer; font-size: 11px; transition: 0.3s;
            text-transform: uppercase;
        }
        .btn:hover { background: #ff0000; color: #000; box-shadow: 0 0 20px #ff0000; }
        .btn-active { background: #ff0000; color: #000; }
        
        /* Terminal Log */
        .terminal-box {
            background: rgba(0, 0, 0, 0.9); border: 1px solid #ff0000;
            height: 100px; margin-top: 10px; border-radius: 5px;
            padding: 8px; overflow-y: auto; text-align: left;
            font-family: 'Courier New', monospace; font-size: 9px;
            position: relative; box-shadow: inset 0 0 12px #ff000066;
        }
        .terminal-box div { margin-bottom: 2px; }
        .log-success { color: #00ff00; }
        .log-process { color: #ff8800; font-weight: bold; }
        .log-info { color: #00ccff; }

        /* Scrollbar terminal */
        .terminal-box::-webkit-scrollbar { width: 3px; }
        .terminal-box::-webkit-scrollbar-thumb { background: #ff0000; }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

<div class="rog-monitor">
    <div class="stat-item">CPU: <span id="cpuLoad">0%</span></div>
    <div class="stat-item">TEMP: <span id="temp">0°C</span></div>
    <div class="stat-item">FPS: <span id="fpsReal">0</span></div>
    <div class="stat-item">PING: <span id="ping">0ms</span></div>
</div>

<canvas id="canvas"></canvas>

<div class="panel">
    <h1>CONTROL LUXAR V5</h1>
    <div class="wm">ROG ELITE GAMING CORE</div>

    <div class="control-group">
        <div class="label-group"><span>AIM SENSITIVITY</span><span id="aimSensVal">5</span></div>
        <input type="range" min="1" max="10" value="5" oninput="updateVal('AIM_SENS', this.value, 'aimSensVal')">
    </div>

    <div class="control-group">
        <div class="label-group"><span>DRAG HEADSHOT POWER</span><span id="dragHsVal">80%</span></div>
        <input type="range" min="1" max="100" value="80" oninput="updateVal('DRAG_HS', this.value, 'dragHsVal', '%')">
    </div>

    <div class="control-group">
        <div class="label-group"><span>CUSTOM DPI (GAME DISPLAY)</span><span id="dpiVal">411</span></div>
        <input type="range" min="320" max="960" value="411" oninput="updateVal('DPI_SET', this.value, 'dpiVal')">
    </div>

    <button class="btn" style="border-color:#00ccff; color:#00ccff;" onclick="send('HEAD_TRACK')">HEAD ENEMY TRACKING (LOCK)</button>
    <button class="btn" onclick="send('AIM_LOCK')">AIM ASSIST LOCK</button>
    <button class="btn" onclick="send('SMOOTH_MOVE')">ULTRA SMOOTH MOVEMENT</button>
    <button class="btn" onclick="send('NET_OPT')">NETWORK ACCELERATOR</button>
    
    <div style="display: flex; gap: 5px; margin-top: 10px;">
        <button class="btn btn-active" onclick="activateAllSequence()">ACTIVATE ALL</button>
        <button class="btn" style="border-color:#555; color:#555;" onclick="send('OFF_ALL')">RESET SYSTEM</button>
    </div>

    <div class="terminal-box" id="terminal">
        <div class="log-info">[SYSTEM] Luxar V5 Core Ready...</div>
        <div class="log-info">[STATUS] Waiting for command_</div>
    </div>
</div>

<script>
    // --- MONITOR & TERMINAL LOGIC (ROG STYLE) ---
    const terminal = document.getElementById('terminal');
    function writeLog(text, type = "success") {
        const div = document.createElement('div');
        const time = new Date().toLocaleTimeString();
        div.className = type === "success" ? "log-success" : (type === "process" ? "log-process" : "log-info");
        div.innerHTML = `[${time}] ${text}`;
        terminal.appendChild(div);
        terminal.scrollTop = terminal.scrollHeight;
    }

    setInterval(() => {
        document.getElementById('cpuLoad').innerText = Math.floor(Math.random() * (75 - 25) + 25) + "%";
        document.getElementById('temp').innerText = Math.floor(Math.random() * (48 - 35) + 35) + "°C";
        document.getElementById('ping').innerText = Math.floor(Math.random() * (60 - 10) + 10) + "ms";
        document.getElementById('fpsReal').innerText = Math.floor(Math.random() * (121 - 90) + 90);
    }, 1200);

    // --- PARTICLE ENGINE (ROG RED GLOW) ---
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let particles = [];
    class Particle {
        constructor() {
            this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height;
            this.vx = (Math.random() - 0.5) * 1.5; this.vy = (Math.random() - 0.5) * 1.5;
            this.color = Math.random() > 0.5 ? '#ff0000' : '#ffa07a'; // Merah & Oranye glowing
            this.size = Math.random() * 2 + 1;
        }
        draw() {
            ctx.fillStyle = this.color;
            ctx.shadowBlur = 10; ctx.shadowColor = this.color; // Efek menyala
            ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
        }
        update() {
            this.x += this.vx; this.y += this.vy;
            if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
            if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
        }
    }
    for (let i = 0; i < 90; i++) particles.push(new Particle()); // Lebih banyak partikel
    function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => {
            p.update(); p.draw();
            // Garis penghubung antar partikel (efek menyatu)
            particles.forEach(p2 => {
                let d = Math.hypot(p.x - p2.x, p.y - p2.y);
                if (d < 120) { // Jarak koneksi lebih jauh
                    ctx.strokeStyle = p.color;
                    ctx.globalAlpha = 1 - (d / 120);
                    ctx.lineWidth = 0.5; // Garis lebih tebal
                    ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y); ctx.stroke();
                }
            });
        });
        requestAnimationFrame(animateParticles);
    }
    animateParticles();

    // --- KONEKSI KE TERMUX (Port 8080) ---
    function send(f, val = "") {
        writeLog(`EXECUTING: ${f} ${val}...`, "process");
        fetch('http://127.0.0.1:8080/luxar', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({fitur: f, value: val})
        })
        .then(() => {
            writeLog(`${f} ${val} SUCCESS`, "success");
        })
        .catch(() => {
            writeLog(`ERROR: FAILED TO CONNECT TERMUX`, "process");
        });
    }

    function updateVal(f, v, targetId, unit = "") {
        document.getElementById(targetId).innerText = v + unit;
        send(f, v);
    }

    // Sequence untuk tombol ACTIVATE ALL
    async function activateAllSequence() {
        terminal.innerHTML = '<div class="log-process">=== STARTING LUXAR INJECTION ===</div>';
        const config = [
            {id: 'AIM_SENS', val: document.getElementById('aimSensVal').innerText},
            {id: 'DRAG_HS', val: document.getElementById('dragHsVal').innerText.replace('%','')},
            {id: 'DPI_SET', val: document.getElementById('dpiVal').innerText},
            {id: 'HEAD_TRACK', val: ''},
            {id: 'AIM_LOCK', val: ''},
            {id: 'SMOOTH_MOVE', val: ''},
            {id: 'NET_OPT', val: ''}
        ];
        
        for(let item of config) {
            send(item.id, item.val);
            await new Promise(r => setTimeout(r, 600)); // Jeda visual
        }
        writeLog("=== ALL LUXAR SYSTEMS OPERATIONAL ===", "info");
    }
</script>
</body>
</html>